% This is a LaTeX 2e Class file for creating LPSC abstracts

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{lpscabs}[2005/12/20 LPSC Abstract Class]

% Copyright (C) 2005,2007,2008,2020 Ross A. Beyer

% This work is licensed under the Creative Commons
% Attribution-Noncommercial-Share Alike 3.0 License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/;
% or, (b) send a letter to Creative Commons, 171 2nd Street, Suite
% 300, San Francisco, California, 94105, USA.

% We use \sloppy to suppress word division and permit larger interword
% spacing so that lines are preferentially broken between words.
\sloppy

%%---------------------------- Global Settings ------------------------

%% Page Style to clear out any headers and footers:
\pagestyle{empty}

\setlength{\columnsep}{18pt}

% Alter some LaTeX defaults for better treatment of figures:
% See p.105 of "TeX Unbound" for suggested values.
% See pp. 199-200 of Lamport's "LaTeX" book for details.
%   General parameters, for ALL pages:
\renewcommand{\topfraction}{0.9}    % max fraction of floats at top
\renewcommand{\bottomfraction}{0.8} % max fraction of floats at bottom
%   Parameters for TEXT pages (not float pages):
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}     % 2 may work better
\setcounter{dbltopnumber}{2}    % for 2-column pages
\renewcommand{\dbltopfraction}{0.9} % fit big float above 2-col. text
\renewcommand{\textfraction}{0.07}  % allow minimal text w. figs
%   Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.9}      % require fuller float pages
% N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.99}   % require fuller float pages

%%----------- Title and Author Commands ----------------
%%

%% These are two options for creating the title and author list, use
%% one option, but not both!

%% This is the original command, and allows the user complete control
%% over what gets printed in these places.
\newcommand{\titlearea}[2]{%
\thispagestyle{empty}
\twocolumn[ {\textbf{\uppercase{#1}}} #2 \vspace{24pt}]
}

%% These are to support the use of the authblk pacakge.
%%
%% To use these commands a user must:
%% \usepackage{authblk}
%%                      in their .tex file before \usepackage{lpscabs}
%%
%% These commands allow
%% the user to use \title \author[1]{Author 1} \affil[1]{Affil 1}
%% and then \maketitle to create title and author block.  For long author
%% lists letting the authblk package help manaage affiliations
%% can be a little cleaner.
%%
%% I couldn't figure out how to make
%% the \uppercase flow through, so if you want the title uppercased,
%% you have to do it when you specify \title{\uppercase{}} in the
%% abstract .tex file, sorry.
\renewcommand{\AB@affilsepx}{, }
\renewcommand{\@author}{\ifx\AB@affillist\AB@empty\AB@author\else
      \ifnum\value{affil}>\value{Maxaffil}\def\rlap##1{##1}%
    \AB@authlist. \AB@affillist
    \else  \AB@authors\fi\fi}

\renewcommand{\maketitle}{%
\thispagestyle{empty}
\twocolumn[\textbf{\@title} \@author \vspace{24pt}]
}

